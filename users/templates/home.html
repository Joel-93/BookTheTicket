{% extends 'users/base.html' %}

{% block content %}
<style>
  .section-title {
    font-size: 1.4rem;
    font-weight: 600;
    margin: 3rem 0 1.5rem;
    border-left: 4px solid #003cff;
    padding-left: 12px;
  }

  .movie-card {
    transition: all 0.3s ease;
  }

  .movie-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
  }

  .movie-card img {
    height: 320px;
    object-fit: cover;
  }

  .event-card img {
    height: 200px;
    object-fit: cover;
  }

  .admin-btn {
    position: absolute;
    top: 15px;
    right: 20px;
    z-index: 10;
  }
</style>

<!-- üî• HERO + ADMIN BUTTON -->
<div class="position-relative">

  <!-- üîê ADMIN BUTTON -->
  {% if user.is_staff %}
    <a href="{% url 'admin_dashboard' %}" class="btn btn-dark admin-btn">
      Admin Dashboard
    </a>
  {% else %}
    <a href="{% url 'admin_login' %}" class="btn btn-outline-dark admin-btn">
      Admin Login
    </a>
  {% endif %}

  <!-- üî• HERO CAROUSEL -->
  <div id="mainCarousel" class="carousel slide mb-4" data-bs-ride="carousel">
    <div class="carousel-inner rounded-4 overflow-hidden">
      <div class="carousel-item active">
        <img src="https://assets-in.bmscdn.com/promotions/cms/creatives/1728390794440_bandlanddesktop.jpg"
             class="d-block w-100" height="320">
      </div>
      <div class="carousel-item">
        <img src="https://assets-in.bmscdn.com/promotions/cms/creatives/1726036566435_playcardnewweb.jpg"
             class="d-block w-100" height="320">
      </div>
      <div class="carousel-item">
        <img src="https://assets-in.bmscdn.com/promotions/cms/creatives/1729172081740_sorcar1240x300.jpg"
             class="d-block w-100" height="320">
      </div>
    </div>
  </div>
</div>

{% if not user.is_authenticated %}
<div class="alert alert-warning text-center">
  Please <a href="{% url 'login' %}">Login</a> or
  <a href="{% url 'register' %}">Register</a> to book tickets.
</div>
{% endif %}

<!-- üé¨ MOVIES -->
<div class="section-title">Recommended Movies</div>
<div class="row g-4">
  {% for movie in movies|slice:":4" %}
    <div class="col-lg-3 col-md-4 col-sm-6">
      <a href="{% url 'theater_list' movie.id %}" class="text-decoration-none text-dark">
        <div class="card movie-card h-100">
          <img src="{{ movie.image.url }}" class="card-img-top">
          <div class="card-body text-center">
            <h6 class="fw-semibold mb-1">{{ movie.name }}</h6>
            <small class="text-muted">‚≠ê {{ movie.rating }}</small>
          </div>
        </div>
      </a>
    </div>
  {% endfor %}
</div>

<!-- üé§ LIVE EVENTS -->
<div class="section-title">Best of Live Events</div>
<div class="row g-3">
  {% for i in "123456"|make_list %}
    <div class="col-lg-2 col-md-3 col-sm-4 col-6">
      <div class="card event-card">
        <img src="https://picsum.photos/300/200?random={{ forloop.counter }}"
             class="card-img-top">
      </div>
    </div>
  {% endfor %}
</div>

<!-- üéû PREMIERES -->
<div class="section-title">Premieres</div>
<div class="row g-4">
  {% for i in "1234"|make_list %}
    <div class="col-md-3 col-sm-6">
      <div class="card movie-card">
        <img src="https://picsum.photos/300/400?random={{ forloop.counter }}1"
             class="card-img-top">
      </div>
    </div>
  {% endfor %}
</div>

<!-- üéß MUSIC -->
<div class="section-title">Your Music Studio</div>
<div class="row g-3">
  {% for i in "123456"|make_list %}
    <div class="col-lg-2 col-md-3 col-sm-4 col-6">
      <div class="card event-card">
        <img src="https://picsum.photos/300/200?random={{ forloop.counter }}2"
             class="card-img-top">
      </div>
    </div>
  {% endfor %}
</div>

{% endblock %}
